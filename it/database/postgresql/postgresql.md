
---
## Системные колонки
#system
`ctid`
Физическое расположение данной версии строки в таблице. Заметьте, что хотя по `ctid` можно очень быстро найти версию строки, значение `ctid` изменится при выполнении `VACUUM FULL`. Таким образом, `ctid` нельзя применять в качестве долгосрочного идентификатора строки. Для идентификации логических строк следует использовать первичный ключ

```sql
select ctid from operation
```

результат:
```
| ctid |  
| :--- |  
| \(0,1\) |  
| \(0,2\) |  
...
| \(0,32\) |  
| \(0,33\) |  
| \(1,1\) |  
| \(1,2\) |  
...
```

----
## Уровни изоляции
#transactional #isolation #level 

|Уровень изоляции|«Грязное» чтение|Неповторяемое чтение|Фантомное чтение|Аномалия сериализации|
|---|---|---|---|---|
|Read uncommitted (Чтение незафиксированных данных)|Допускается, но не в PG|Возможно|Возможно|Возможно|
|Read committed (Чтение зафиксированных данных)|Невозможно|Возможно|Возможно|Возможно|
|Repeatable read (Повторяемое чтение)|Невозможно|Невозможно|Допускается, но не в PG|Возможно|
|Serializable (Сериализуемость)|Невозможно|Невозможно|Невозможно|Невозможно|

---
## Foreign key
#foreign #key #fk #unique #pk
в PostgreSQL внешний ключ (`FK`) может ссылаться не обязательно на первичный ключ (`PK`), но также и на уникальный индекс (`UNIQUE`). Основное требование — столбец или набор столбцов, на которые ссылается `FK`, должны иметь ограничение уникальности, будь то первичный ключ или уникальное ограничение.

---

