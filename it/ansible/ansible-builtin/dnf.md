#builtin #dnf #ansible
> Устанавливает, обновляет, удаляет и выводит список пакетов и групп с помощью диспетчера пакетов dnf.

## Примеры из доки

```yml
- name: Install the latest version of Apache
  ansible.builtin.dnf:
    name: httpd
    state: latest

- name: Install Apache >= 2.4
  ansible.builtin.dnf:
    name: httpd >= 2.4
    state: present

- name: Install the latest version of Apache and MariaDB
  ansible.builtin.dnf:
    name:
      - httpd
      - mariadb-server
    state: latest

- name: Remove the Apache package
  ansible.builtin.dnf:
    name: httpd
    state: absent
```

---
## Реальные примеры
```yml
- hosts: spotic-api  
  become: yes  
  tasks:  
    - name: Ensure the package manager is up-to-date  
      dnf:  
        name: '*'  
        state: latest  
        update_cache: true  
  
    - name: Install Midnight Commander on Fedora  
      dnf:  
        name: mc  
        state: present
```

---
## Параметры
### параметр `state` 
определяет состояние пакета после выполнения задачи:

- **Значение по умолчанию:** Нет значения, однако фактически поведение зависит от наличия флага `autoremove`. Без указанного флага по умолчанию устанавливается значение `present`, означающее установку пакета. Если указан флаг `autoremove=true`, подразумевается удаление пакета (`absent`).

Возможные варианты значений:

- **"absent":** Удаляет указанный пакет, если он установлен.
- **"present":** Устанавливает указанный пакет, если он отсутствует.
- **"installed":** То же самое, что и "present".
- **"removed":** То же самое, что и "absent".
- **"latest":** Обновляет установленный пакет до последней доступной версии. Если пакет не установлен, устанавливает последнюю доступную версию.

### параметр `name`
Альтернативное обозначение: `pkg`

Тип: список строковых значений

Имя пакета или спецификатор пакета вместе с версией, например, `имя-пакета-1.0`. Когда используется параметр `state=latest`, допустимо указывать символ `'*'`, что эквивалентно выполнению команды `dnf -y update`. Вы также можете задать URL или локальный путь к RPM-файлу. Чтобы управлять несколькими пакетами одновременно, разрешается передавать либо строку с перечисленными через запятую пакетами, либо список пакетов.

Допустимы операторы сравнения версий: `<`, `<=`, `>=`, `>` (например, `имя >= 1.0`). Пространства вокруг оператора обязательны.

Также возможно указать абсолютный путь к исполняемому бинарному файлу, предоставляемому пакетом. Дополнительную информацию см. в примерах ниже.

По умолчанию: пустой список (`[]`)

...