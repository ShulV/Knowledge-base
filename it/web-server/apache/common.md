## Проверить синтаксис 
#syntax #check #apache #httpd
```bash
sudo httpd -t
```
пример
```bash
[victor@r1027047 ~]$ sudo httpd -t
[sudo] password for victor: 
Syntax OK
```

---
## Директория для раздачи статики
#static #html #var #apache #httpd
```
/var/www/html/
```
P.S. файлы лежащие в ней можно получать в браузере

---
## httpd.conf vs VirtualHost
#virtual #conf #httpd
1. **Общая конфигурация (`httpd.conf`)**:
    - Содержит глобальные настройки Apache, применяемые ко всем виртуальным хостам, если не указано иного.
    - Ваше объявление `ServerName spotic.ru` в `httpd.conf` влияет на общий контекст сервера и, вероятно, использовалось изначально для распознавания запросов.
2. **Отдельные виртуальные хосты**:
    - Конкретные блоки `<VirtualHost>` позволяют раздельно управлять разными доменами и поведением отдельных сайтов.
    - Например, вы можете иметь разные виртуальные хосты для разных доменов или для разделения портов (например, порт 80 и порт 443).

---
## Проверить какие модули установлены
#httpd #module #lib #check #mod
```bash
httpd -M
```

---
## Проксирование запроса на другой порт/урл
#virtual #host #proxy #reverse
```bash
<VirtualHost *:80>
    ServerName 45.8.158.127
    
    ProxyPreserveHost On
    ProxyPass / http://localhost:5000/
    ProxyPassReverse / http://localhost:5000/
</VirtualHost>
```
##### `ProxyPreserveHost On`:
- Включает передачу оригинального заголовка Host клиента приложению, к которому проксируется запрос. Это полезно, если ваше приложение зависит от значений заголовков Host для обработки маршрутов или идентификации клиентов.
##### `ProxyPass / http://localhost:5000`:
- Настраивает обратное проксирование для всех входящих запросов, поступающих на корневой путь ("/"). Эти запросы передаются на внутренний сервер, запущенный на вашем компьютере по адресу `http://localhost:5000`.
##### `ProxyPassReverse / http://localhost:5000`:
- Обеспечивает правильную обработку ответов, возвращаемых внутренним сервером. Этот механизм исправляет возможные несоответствия ссылок в заголовках Location, Content-Location и URI перенаправлений, заменяя внутренние адреса (например, `localhost:5000`) общедоступными URL (IP-адрес или домен, указанные в ServerName).

P.S. тут можно настроить `/api`, чтобы запросы, начинающиеся на определнный path ли на определенный порт (приложение)