# Sytemctl
#systemctl #httpd #apache
## Проверить статус
#check #status #apache #httpd
```bash
sudo systemctl status httpd
```
## Перезапустить
#restart #httpd #apache 
```bash
sudo systemctl restart httpd
```

---
## Проверить синтаксис 
#syntax #check #apache #httpd
```bash
sudo httpd -t
```
пример
```bash
[victor@r1027047 ~]$ sudo httpd -t
[sudo] password for victor: 
Syntax OK
```

## Проверить последние логи
#tail #apache #httpd #log
```bash
sudo tail -n 50 /var/log/httpd/error_log
```

---
# Firewall
#firewall #monitoring
## Проверить firewall
#fireawll #check
```bash
sudo firewall-cmd --list-all
```
  
Показывает полную информацию о текущем профиле (зоне) файрволла, который активен в данный момент. Давай рассмотрим каждый пункт подробно:
**Расшифровка вывода команды:**
1. **Zone (Зона):**
    - Показано, что активной зоной является `public`. Это одна из стандартных зон файрволла, предназначенная для общедоступных сетей, где уровень доверия низкий.
2. **Target (Цель):**
    - Установлено значение `default`, означающее, что политика по умолчанию применяется ко всей зоне.
3. **ICMP Block Inversion (Инверсия блокировки ICMP):**
    - Значение `no` говорит о том, что инверсии блокировки пакетов ICMP нет.
4. **Interfaces (Интерфейсы):**
    - Список сетевых интерфейсов, включённых в активную зону. Видим единственный интерфейс `eth0`, который относится к публичному профилю.
5. **Sources (Источники):**
    - Список IP-адресов или диапазонов, которым разрешено входить в зону. В данном случае список пустой, что означает, что ограничений по источникам нет.
6. **Services (Службы):**
    
    - Здесь перечисляются разрешённые службы. В твоей ситуации видны только три службы:
        - `cockpit`: Панель администрирования Cockpit.
        - `dhcpv6-client`: Клиент DHCPv6.
        - `ssh`: SSH-доступ.
    
> ==P.S. Служб HTTP и HTTPS тут нет, поэтому веб-трафик заблокирован файрволлом !!!==
    
7. **Ports (Порты):**
    - Пустой список портов, которые открыты отдельно вне предопределённых служб.
> ==P.S. Тут должны быть открытые порты, чтобы был доступ извне!!!==
8. **Protocols (Протоколы):**
    - Отсутствуют отдельные протокольные ограничения.
9. **Forward (Передача):**
    - Передача пакетов между зонами отключена (`no`).
10. **Masquerade (Маска подмены):**
    - Маски подмены исходящих IP-адресов нет (`no`).
11. **Rich Rules (Расширенные правила):**
    - Список расширенных правил пуст, значит никакие специальные условия не применяются.

## Добавить службу в public зону фаервола
#service
Добавляем `http-службу`
```bash
sudo firewall-cmd --zone=public --add-service=http --permanent
```
Добавляем `https-службу`
```bash
sudo firewall-cmd --zone=public --add-service=https --permanent
```

- `--permanent` гарантирует, что изменение сохранится после перезагрузки системы.

Примеры:
```bash
[victor@r1027047 ~]$ sudo firewall-cmd --zone=public --add-service=http --permanent
[sudo] password for victor: 
success
```

## Перезагрузить конфиг фаервола
#reload #restart #firewall
```bash
sudo firewall-cmd --reload
```

 > P.S. Применяет внесённые изменения в файрволл немедленно. Без этого шага новое правило не вступит в силу, даже несмотря на сохранение конфигурации.

---

